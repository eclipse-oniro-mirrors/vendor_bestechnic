From 66e202a695864e06a4f267ca6ab032c2e38cde00 Mon Sep 17 00:00:00 2001
From: yangjian <jianyang@bestechnic.com>
Date: Wed, 29 Dec 2021 15:32:23 +0800
Subject: [PATCH] base/security/huks

Signed-off-by: yangjian <jianyang@bestechnic.com>
Change-Id: I108a1b3390f2a5dd86bd8291e780313beae50641
---
 .../huks_standard/main/os_dependency/log/hks_log_lite.c      | 5 +++--
 .../huks_service/main/core/include/hks_file_operator.h       | 4 ++--
 .../huks_service/main/core/src/hks_client_service.c          | 4 ++--
 3 files changed, 7 insertions(+), 6 deletions(-)

diff --git a/frameworks/huks_standard/main/os_dependency/log/hks_log_lite.c b/frameworks/huks_standard/main/os_dependency/log/hks_log_lite.c
index a87e593..4d28609 100644
--- a/frameworks/huks_standard/main/os_dependency/log/hks_log_lite.c
+++ b/frameworks/huks_standard/main/os_dependency/log/hks_log_lite.c
@@ -41,7 +41,8 @@ void HksLog(uint32_t logLevel, const char *funcName, uint32_t lineNo, const char
         HKS_FREE_PTR(buf);
         return;
     }
-
+    printf("[huks] %s\r\n",buf);
+#if 0
     switch (logLevel) {
         case HKS_LOG_LEVEL_I:
 #if defined(__LINUX__)
@@ -76,6 +77,6 @@ void HksLog(uint32_t logLevel, const char *funcName, uint32_t lineNo, const char
             HKS_FREE_PTR(buf);
             return;
     }
-
+#endif
     HKS_FREE_PTR(buf);
 }
\ No newline at end of file
diff --git a/services/huks_standard/huks_service/main/core/include/hks_file_operator.h b/services/huks_standard/huks_service/main/core/include/hks_file_operator.h
index 5486468..5e5d47a 100755
--- a/services/huks_standard/huks_service/main/core/include/hks_file_operator.h
+++ b/services/huks_standard/huks_service/main/core/include/hks_file_operator.h
@@ -27,8 +27,8 @@
         #define HKS_KEY_STORE_PATH            "/data/data/maindata"
         #define HKS_KEY_STORE_BAK_PATH        "/data/data/bakdata"
     #else
-        #define HKS_KEY_STORE_PATH            "/storage/maindata"
-        #define HKS_KEY_STORE_BAK_PATH        "/storage/bakdata"
+        #define HKS_KEY_STORE_PATH            "/data/maindata"
+        #define HKS_KEY_STORE_BAK_PATH        "/data/bakdata"
     #endif
 #endif
 #define HKS_KEY_STORE_KEY_PATH        "key"
diff --git a/services/huks_standard/huks_service/main/core/src/hks_client_service.c b/services/huks_standard/huks_service/main/core/src/hks_client_service.c
index 4e4de69..95bbaaa 100755
--- a/services/huks_standard/huks_service/main/core/src/hks_client_service.c
+++ b/services/huks_standard/huks_service/main/core/src/hks_client_service.c
@@ -1114,7 +1114,7 @@ int32_t HksServiceRefreshKeyInfo(const struct HksBlob *processName)
 #endif
     return ret;
 }
-
+#if 0
 int32_t HksServiceProcessInit(uint32_t msgId, const struct HksBlob *processName, const struct HksBlob *keyAlias,
     const struct HksParamSet *paramSet, uint64_t *operationHandle)
 {
@@ -1210,7 +1210,7 @@ int32_t HksServiceProcessFinal(uint32_t msgId, uint64_t operationHandle, const s
 
     return ret;
 }
-
+#endif
 int32_t HksServiceSignWithDeviceKey(const struct HksBlob *processName, uint32_t keyId,
     const struct HksParamSet *paramSet, const struct HksBlob *srcData, struct HksBlob *signature)
 {
-- 
2.17.1

