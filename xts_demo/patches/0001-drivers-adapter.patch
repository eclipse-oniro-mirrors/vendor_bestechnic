From f830e79d993a86f1f1a7485d638c3bc022b269bf Mon Sep 17 00:00:00 2001
From: yangjian <jianyang@bestechnic.com>
Date: Tue, 21 Dec 2021 01:12:56 +0800
Subject: [PATCH] drivers/adapter/

Signed-off-by: yangjian <jianyang@bestechnic.com>
Change-Id: I5dbb25d25d66730d1034eb8aab9da54e8428a0fc
---
 khdf/liteos_m/BUILD.gn          | 4 ++--
 khdf/liteos_m/platform/BUILD.gn | 9 ++++++++-
 2 files changed, 10 insertions(+), 3 deletions(-)
 mode change 100644 => 100755 khdf/liteos_m/platform/BUILD.gn

diff --git a/khdf/liteos_m/BUILD.gn b/khdf/liteos_m/BUILD.gn
index a72632b..18b178d 100644
--- a/khdf/liteos_m/BUILD.gn
+++ b/khdf/liteos_m/BUILD.gn
@@ -30,9 +30,9 @@
 group("hdf_lite") {
   deps = [
     "core:hdf_core",
-    "network:hdf_network",
+    # "network:hdf_network",
     "osal:hdf_osal_lite",
     "platform:hdf_platform_lite",
-    "test\sample_driver:sample_driver",
+    # "test\sample_driver:sample_driver",
   ]
 }
diff --git a/khdf/liteos_m/platform/BUILD.gn b/khdf/liteos_m/platform/BUILD.gn
old mode 100644
new mode 100755
index 9c2625b..9a6d96e
--- a/khdf/liteos_m/platform/BUILD.gn
+++ b/khdf/liteos_m/platform/BUILD.gn
@@ -25,7 +25,7 @@
 # OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 # WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 # OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
-# ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+# ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 import("//drivers/adapter/khdf/liteos_m/hdf.gni")
 
@@ -34,6 +34,7 @@ config("libhdf_platform_pub_config") {
   include_dirs = [
     "$hdf_fwk_path/include/platform",
     "$hdf_fwk_path/support/platform/include",
+    "$hdf_fwk_path/support/platform/include/common",
   ]
 }
 
@@ -46,6 +47,12 @@ static_library("hdf_platform_lite") {
     "$hdf_fwk_path/support/platform/src/uart_core.c",
     "$hdf_fwk_path/support/platform/src/uart_if.c",
     "$hdf_fwk_path/support/platform/src/pwm_core.c",
+    "$hdf_fwk_path/support/platform/src/mipi_dsi_core.c",
+    "$hdf_fwk_path/support/platform/src/mipi_dsi_if.c",
+    "$hdf_fwk_path/support/platform/src/spi_core.c",
+    "$hdf_fwk_path/support/platform/src/spi_if.c",
+    "$hdf_fwk_path/support/platform/src/watchdog_core.c",
+    "$hdf_fwk_path/support/platform/src/watchdog_if.c",
     "plat_common.c",
   ]
   include_dirs = [ "kernel/liteos_m/kernel/arch/include" ]
-- 
2.17.1

